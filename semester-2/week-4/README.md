# Четвертая неделя. Графы. Поиск цикла. Эйлеров граф. Топологическая сортировка. Алгоритм Косарайю.

## Задачи

<details><summary> 
<strong>A. Еще одна сортировка</strong>
</summary>

### A. Еще одна сортировка

*Ограничение времени:* 1 секунда  
*Ограничение памяти:* 256Mb  
*Ввод:* стандартный ввод или input.txt  
*Вывод:* стандартный вывод или output.txt

Дан ориентированный невзвешенный граф. Необходимо его топологически отсортировать.

**Формат ввода**  
В первой строке входного файла даны два целых числа **N** и **M** (1 ≤ **N** ≤ 100000, 0 ≤ **M** ≤ 100000) — количество вершин и рёбер в графе соответственно.  
Далее в **M** строках перечислены рёбра графа. Каждое ребро задаётся парой чисел - номерами начальной и конечной вершин соответственно.

**Формат вывода**  
Вывести любую топологическую сортировку графа в виде последовательности номеров вершин. Если граф невозможно топологически отсортировать, вывести **-1**.

**Пример**  
*Ввод:*
```
6 6
1 2
3 2
4 2
2 5
6 5
4 6
```
*Вывод:*
```
4 6 3 1 2 5
```

###### *Решение: [\*тык\*](a.cpp)*

</details>

<details><summary> 
<strong>B. Компоненты сильной связности</strong>
</summary>

### B. Компоненты сильной связности

Ограничение времени: 1 секунда  
Ограничение памяти: 128Mb

Ввод: стандартный ввод или input.txt  
Вывод: стандартный вывод или output.txt

Вам задан ориентированный граф с **N** вершинами и **M** ребрами (1 ≤ N ≤ 20000, 1 ≤ M ≤ 200000). Найдите компоненты сильной связности заданного графа и топологически отсортируйте его конденсацию.

**Формат ввода**  
Граф задан во входном файле следующим образом: первая строка содержит числа **N** и **M**. Каждая из следующих **M** строк содержит описание ребра — два целых числа из диапазона от 1 до **N** — номера начала и конца ребра.

**Формат вывода**  
На первой строке выведите число **K** — количество компонент сильной связности в заданном графе. На следующей строке выведите **N** чисел — для каждой вершины выведите номер компоненты сильной связности, которой принадлежит эта вершина. Компоненты сильной связности должны быть занумерованы таким образом, чтобы для любого ребра номер компоненты сильной связности его начала не превышал номера компоненты сильной связности его конца.

**Пример**  
Ввод:
```
10 19
1 4
7 8
5 10
8 9
9 6
2 6
6 2
3 8
9 2
7 2
9 7
4 5
3 6
7 3
6 7
10 8
10 1
2 9
2 7
```

Вывод:
```
2
1 2 2 1 1 2 2 2 2 1
```

###### *Решение: [\*тык\*](b.cpp)*

</details>

<details><summary> 
<strong>C. Автобусные маршруты</strong>
</summary>

### C. Автобусные маршруты

Ограничение времени: 1.5 секунды  
Ограничение памяти: 128Mb

**Формат ввода**  
Первая строка содержит два числа N и M — количество автобусных маршрутов и количество площадей соответственно. Каждая из следующих N строк описывает один из автобусных маршрутов. Сначала идет число k — количество площадей в маршруте, а затем следует k+1 чисел, где первое и последнее число указывают номер стартовой и конечной площадей маршрута, а остальные числа — номера площадей, через которые проходит маршрут.

**Формат вывода**  
Если возможно организовать новый маршрут по заданным условиям, выведите число площадей в этом маршруте и саму последовательность площадей через пробел. Если организовать маршрут не удастся, выведите число 0.

**Пример**

Ввод:
```
2 5
6 1 2 3 4 3 2 1
2 4 5 4
9 1 2 3 4 5 4 3 2 1
```

Вывод:
```
9 1 2 3 4 3 2 1
```

</details>

###### *Конспект лекции: [\*тык\*](aads-lecture-5.pdf)*
###### *Запись лекции: [\*тык\*](https://youtu.be/m8k4SIw4F3M)*