# Одиннадцатая неделя. Вычислительная геометрия.

## Задачи

<details><summary> 
<strong>A. Внутри или нет?</strong>
</summary>

### A. Внутри или нет?

**Ограничение времени:** 1 секунда  
**Ограничение памяти:** 256Mb  
**Ввод:** стандартный ввод или input.txt  
**Вывод:** стандартный вывод или output.txt

В боях покемонов новые правила — если покемон выходит за границы корта для сражения, то его тренер проигрывает. Там дано поле в форме многоугольника, необязательно выпуклого, и местоположение покемона. Определите, внутри он или нет.

**Формат ввода**  
В первой строке вводятся три целых числа – \( N \) (3 ≤ \( N \) ≤ 100000) и координаты покемона.

Далее в \( N \) строках задается по паре целых чисел – координаты очередной вершины корта в порядке обхода по или против часовой стрелки.

**Формат вывода**  
Выведите одну строку: "YES", если заданная точка содержится в приведённом многоугольнике или на его границе, и "NO" в противном случае.

**Пример**  
Ввод:
```
3 2 3
1 1
10 2
2 8
```
Вывод:
```
YES
```

</details>

<details><summary> 
<strong>B. Два отрезка</strong>
</summary>

### B. Два отрезка

**Ограничение времени:** 1 секунда  
**Ограничение памяти:** 256Mb  
**Ввод:** стандартный ввод или input.txt  
**Вывод:** стандартный вывод или output.txt

Необходимо проверить, пересекаются ли два отрезка.

**Формат ввода**  
В двух строках входного файла заданы по четыре целых числа, не превосходящих по модулю 10 000, — координаты концов первого отрезка, затем второго.

**Формат вывода**  
В первой строке выходного файла выведите "YES", если отрезки имеют общие точки, и "NO" в противном случае.

**Пример**  
Ввод:
```
5 1 2 6
1 1 7 8
```
Вывод:
```
YES
```

</details>

<details><summary> 
<strong>C. Вектор</strong>
</summary>

### C. Вектор

**Ограничение времени:** 1 секунда  
**Ограничение памяти:** 256Mb  
**Ввод:** стандартный ввод или input.txt  
**Вывод:** стандартный вывод или output.txt

Даны два ненулевых вектора. Требуется вычислить:

1. Длину первого и второго вектора (два числа)
2. Вектор, образованный сложением данных двух векторов
3. Скалярное и векторное произведения данных векторов
4. Площадь треугольника, построенного из этих векторов

**Формат ввода**  
В двух строках входного файла заданы по четыре целых числа, не превосходящих по модулю 10 000, — координаты начала и конца первого вектора, затем второго.

**Формат вывода**  
В каждой строке выходного файла — ответ на соответствующий пункт задачи с точностью не менее 10^-6.

**Пример**  
Ввод:
```
5 1 2 6
1 1 7 8
```
Вывод:
```
5.830951895 9.219544457
3.000000000 12.000000000
17.000000000 -51.000000000
25.500000000
```

</details>

<details><summary> 
<strong>D. Площадь</strong>
</summary>

### D. Площадь

**Ограничение времени:** 1 секунда  
**Ограничение памяти:** 256Mb  
**Ввод:** стандартный ввод или input.txt  
**Вывод:** стандартный вывод или output.txt

Найдите площадь многоугольника.

**Формат ввода**  
В первой строке одно число N (3 ≤ N ≤ 100 000). Далее в N строках по паре чисел — координаты очередной вершины простого многоугольника в порядке обхода по или против часовой стрелки. Координаты целые по модулю не превосходят 10 000.

**Формат вывода**  
Одно число — величина площади приведённого многоугольника с абсолютной точностью.

**Пример**  
Ввод:
```
3
1 0
0 1
1 1
```
Вывод:
```
0.500000000000000
```

</details>

<details><summary> 
<strong>E. Отрезки на дистанции</strong>
</summary>

### E. Отрезки на дистанции

**Ограничение времени:** 1 секунда  
**Ограничение памяти:** 256Mb  
**Ввод:** стандартный ввод или input.txt  
**Вывод:** стандартный вывод или output.txt

Найдите расстояние между двумя отрезками.

**Формат ввода**  
В двух строках входного файла даны по четыре целых числа, не превосходящих по модулю 10 000, — координаты концов сначала первого, затем второго отрезков.

**Формат вывода**  
В первой строке выходного файла выведите одно вещественное число — расстояние между отрезками с точностью не менее 10^-6.

**Пример**  
Ввод:
```
1 1 2 2
2 1 3 0
```
Вывод:
```
0.7071067812
```

</details>

<details><summary> 
<strong>F. Две прямые</strong>
</summary>

### F. Две прямые

**Ограничение времени:** 1 секунда  
**Ограничение памяти:** 256Mb  
**Ввод:** стандартный ввод или input.txt  
**Вывод:** стандартный вывод или output.txt

Даны коэффициенты \( A1, B1, C1 \) уравнения первой прямой и коэффициенты \( A2, B2, C2 \) уравнения второй прямой. Требуется:

1. Построить направляющие векторы для обеих прямых (вывести координаты).
2. Найти точку пересечения двух прямых или вычислить расстояние между ними, если они параллельны.

**Формат ввода**  
В первой строке входного файла находятся три числа — коэффициенты нормального уравнения для первой прямой \( A1, B1, C1 \). Во второй строке — коэффициенты для второй прямой \( A2, B2, C2 \).

Все числа во входном файле по модулю не превосходят 10 000.

**Формат вывода**  
В каждой строке выходного файла выведите ответ на соответствующий пункт задачи с точностью до 10^-6.

**Пример**  
Ввод:
```
1 1 -1
1 -1 0
```
Вывод:
```
1.000000000 -1.000000000
-1.000000000 -1.000000000
0.500000000 0.500000000
```

</details>

<details><summary> 
<strong>G. Второй орден</strong>
</summary>

### G. Второй орден

**Ограничение времени:** 1 секунда  
**Ограничение памяти:** 256Mb  
**Ввод:** стандартный ввод или input.txt  
**Вывод:** стандартный вывод или output.txt

Второй орден не дает спокойствия повстанцам. Так как в прошлых сериях никакая модель Звезды Смерти не позволяла ордену захватить вселенную, было решено построить сдвоенную Звезду Смерти, то есть как одна Звезда Смерти, но их две, при этом их центры находятся на звездной оси.

Повстанцы узнали, что в новом орудии их врагов одна из сфер неуязвима, а вторая приводит к разрушению обоих модулей, даже если выстрел пройдет по касательной к ней. Также из расшифрованных переговоров сопротивление выяснило, что новое орудие уже на позиции и готовится к нанесению смертельного удара. Вам необходимо выяснить, на какое минимальное расстояние L от пересечения звездной оси с планетой повстанцев надо передвинуть оборонительное орудие, чтобы предотвратить угрозу.

Благодаря шпионам сопротивлению стали известны размеры и положение сдвоенной Звезды Смерти. А именно, известно, что неуязвимая сфера имеет радиус P и находится на высоте Hp от планеты, тогда как второй модуль имеет радиус S и находится на высоте Hs. Планету повстанцев считать плоской.

**Формат ввода**  
В единственной строке входного файла находятся четыре положительных целых числа P, Hp, S, Hs, не превосходящие 10000. Гарантируется, что Hp < Hs. Также известно, что модули не могут пересекаться.

**Формат вывода**  
Выведите минимальное расстояние L от пересечения звездной оси с планетой повстанцев, на которое надо передвинуть оборонительное орудие, чтобы предотвратить угрозу, с точностью не менее 6 знаков после запятой.

**Пример**  
Ввод:
```
1 9 10 21
```
Вывод:
```
0.000000
```

</details>

<details><summary> 
<strong>H. (Не)выпуклый</strong>
</summary>

### H. (Не)выпуклый

**Ограничение времени:** 1 секунда  
**Ограничение памяти:** 256Mb  
**Ввод:** стандартный ввод или input.txt  
**Вывод:** стандартный вывод или output.txt

Известно, что корты для боев покемонов представляют из себя выпуклый многоугольник. Для финала чемпионата мира среди тренеров для покемонов было решено сделать новый стадион в форме многоугольника. Вам даны вершины в порядке обхода. Проверьте, правда ли, что данный вам план многоугольника подходит под требование на корт для сражения тренеров покемонов.

**Формат ввода**  
В первой строке одно число N (3 ≤ N ≤ 100000). Далее в N строках по паре целых чисел — координаты очередной вершины плана корта в порядке обхода по или против часовой стрелки. Координаты всех точек целые, по модулю не превосходят 10^7.

**Формат вывода**  
Одна строка «YES», если приведённый многоугольник является выпуклым, и «NO» в противном случае.

**Пример**  
Ввод:
```
3
0 0
0 1
1 0
```
Вывод:
```
YES
```

</details>

<details><summary> 
<strong>I. Точка и две точки</strong>
</summary>

### I. Точка и две точки

**Ограничение времени**: 1 секунда  
**Ограничение памяти**: 256Mb

**Ввод**: стандартный ввод или input.txt  
**Вывод**: стандартный вывод или output.txt

Определите, принадлежит ли точка C заданной прямой, лучу и отрезку, образованными точками A и B.

**Формат ввода**  
В первой строке входного файла даны два целых числа — координаты точки C. Во двух следующих строках в таком же формате заданы точки A и B (A ≠ B).

Все числа во входном файле по модулю не превосходят 10 000.

**Формат вывода**  
В первой строке выведите "YES", если точка C принадлежит прямой AB, и "NO" в противном случае. Во второй и третьей строках аналогично выведите ответы для луча AB (A — начало луча) и отрезка AB.

**Пример**

Ввод:
```
1 6
3 7
5 8
```

Вывод:
```
YES
NO
NO
```

</details>

<details><summary> 
<strong>L. Расстояния</strong>
</summary>

### L. Расстояния

**Ограничение времени**: 1 секунда  
**Ограничение памяти**: 256Mb

**Ввод**: стандартный ввод или input.txt  
**Вывод**: стандартный вывод или output.txt

Даны три точки A, B и C. Необходимо подсчитать расстояния от точки C до прямой, луча и отрезка, образованного точками A и B.

**Формат ввода**  
В первой строке входного файла даны два целых числа — координаты точки C. В двух следующих строках в таком же формате заданы точки A и B (A ≠ B).

Все числа во входном файле по модулю не превосходят 10 000.

**Формат вывода**  
В первой строке выходного файла выведите одно вещественное число — расстояние от точки C до прямой. В следующих двух строках выведите соответственно расстояния до луча AB (A — начало луча) и до отрезка AB. Все числа выводить с точностью не менее 10-6. Луч строится по направлению от точки A к точке B.

**Пример**

Ввод:
```
3 0
1 1
2 1
```

Вывод:
```
1.000000000
1.000000000
1.414213562
```

</details>

<details><summary> 
<strong>M. Выпуклая оболочка</strong>
</summary>

### M. Выпуклая оболочка

**Ограничение времени**: 1 секунда  
**Ограничение памяти**: 256Mb

**Ввод**: стандартный ввод или input.txt  
**Вывод**: стандартный вывод или output.txt

Снова проектируют новый корт для боев покемонов (напомним, он должен быть выпуклым многоугольником). В этот раз есть требование, что каждая из N ритуальных колонн должна попасть внутрь или на границу корта. Так как бюджет ограничен, корт должен иметь минимальную площадь.

Гарантируется, что полученный корт имеет ненулевую площадь.

**Формат ввода**  
На первой строке число N (3 ≤ N ≤ 10^5). Следующие N строк содержат пары целых чисел x и y (-10^9 ≤ x, y ≤ 10^9) — координаты ритуальных колонн.

Будьте аккуратны! Точки произвольны. Бывают совпадающие, бывают лежащие на одной прямой в большом количестве.

**Формат вывода**  
В первой строке выведите K — число вершин полученного корта. Следующие K строк должны содержать координаты вершин в порядке обхода. Никакие три подряд идущие точки не должны лежать на одной прямой.

Кроме того, в последней строке выведите площадь получившегося корта. Площадь необходимо вывести с точностью до одного знака.

Докажите, что выведенное значение является абсолютно точным.

**Пример**

Ввод:
```
5
0 0
2 0
0 2
1 1
2 2
```

Вывод:
```
4
0 0
0 2
2 2
2 0
4.0
```

**Примечания**  
Фигуру нужно вывести в порядке обхода по часовой стрелке, начиная с самой левой (в случае нескольких таких, то с самой левой самой нижней) точки. Иначе ответ считается неверным.

Обращу ваше внимание, что в силу специфики проверяющей программы ответы 4.0 и 4.00 считаются разными! Также на больших числах может быть вывод -9e+08, по мнению проверяющей программы это строка, а не число. Будьте аккуратны, читайте про форматированный вывод, вы справитесь.

###### *Решение: [\*тык\*](m.cpp)*

</details>

###### *Конспект лекции: [\*тык\*](aads-lecture-11.pdf)*
###### *Запись лекции: [\*тык\*](https://youtu.be/MSFRRTBI99E)*